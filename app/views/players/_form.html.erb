<div data-controller="">
  <%= simple_form_for player do |f| %>
    <% if player.errors.any? %>
      <div style="color: red">
        <br>
        <h2 class="text-center"><%= pluralize(player.errors.count, "error")%> prohibited this player from being saved:</h2>
        <ul>
          <div class="mx-auto" style="width: 50%;">
            <% player.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </div>
        </ul>
      </div>
    <% end %>
    <div class="row">
      <div class="col-md-3">

        <div class="profile-container">
          <% if player.profile_pic.attached? %>
            <%= profile_pic_for(player) %>
          <% else %>
            <%= image_tag "profile-pic.png", style: "width:50%", class: "mt-5 mx-auto d-block" %>
          <% end %>
        </div>

        <%= f.input :profile_pic, as: :file %>


        <h4 class="mt-5 light-font text-center">Positions</h4>
        <br>
        <div id="dropdown-container" data-players-form-target="positionDropdown" class="d-flex justify-content-center dropdown">
          <%= f.select :player_position, [
            ['1 - Loosehead Prop', 1],
            ['2 - Hooker', 2],
            ['3 - Tighthead Prop', 3],
            ['4 - Lock (Second Row)', 4],
            ['5 - Lock (Second Row)', 5],
            ['6 - Blindside Flanker', 6],
            ['7 - Openside Flanker', 7],
            ['8 - Number Eight', 8],
            ['9 - Scrum-Half', 9],
            ['10 - Fly-Half', 10],
            ['11 - Left Wing', 11],
            ['12 - Inside Centre', 12],
            ['13 - Outside Centre', 13],
            ['14 - Right Wing', 14],
            ['15 - Fullback', 15]
            ], {prompt: "Select a Position"}, {class:"btn btn-secondary btn-md dropdown-toggle"} %>
        </div>

        <br>

        <div id="dropdown-container" data-players-form-target="positionDropdown" class="d-flex justify-content-center dropdown">
          <%= f.select :player_position, [
            ['U21', ],
            ['2nd Team'],
            ['1st Team'],
            # ['', 4],
            # ['', 5],
            # ['', 6],
            # ['', 7],
            # ['', 8],
            # ['', 9],
            # ['', 10],
            # ['', 11],
            # ['', 12],
            # ['', 13],
            # ['', 14],
            # ['', 15]
            ], {prompt: "Select a Team"}, {class:"btn btn-secondary btn-md dropdown-toggle"} %>
        </div>
        <br>
        <!--<p class="text-center light-font"><%= link_to 'Add position', '#', class: "btn btn-success", data: { action: 'click->players-form#addDropdown', 'players-form-target': 'dropdownButton' } %></p>-->
      </div>
      <div class="col-md-9">
        <div class="text-center">
          <h1 class="mt-4 light-font">
            <%= f.text_field :fullname, class: "form-control player-show-names text-center", placeholder:"Fullname", style: "display: inline-block;" %>
          </h1>
          <h4 class="mt-1 light-font">
            <%= f.text_field :nickname, class: "form-control player-show-names text-center", placeholder:"Nickname", style: "display: inline-block;" %>
          </h4>
        </div>
        <br>
        <br>

        <div class="border-bottom hr-show-custom mb-4" ></div>

        
        <div class="row">
          <div class="col-md-7 light-font d-flex align-items-center mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Cellphone Number:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
            <%= f.text_field :cellphone_number, class: "form-control player-form-field w-100", placeholder:"Cell number" %>
          </div>
        </div>

        <div class="border-bottom hr-show-custom mb-4" ></div>


        <div class="row">
          <div class="col-md-7 light-font d-flex mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Medical Aid:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
              <%= f.text_area :medical_aid, class: "form-control player-form-field w-100", id: "floatingMedicalAid", placeholder:"Medical-Aid"%>
          </div>
        </div>

        <div class="border-bottom hr-show-custom mb-4" ></div>

        <div class="row">
          <div class="col-md-7 light-font d-flex mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Medical Condition:
          </div>
          <div class="col-md-4 light-font d-flex mb-4">
            <%= f.text_area :medical_conditions, class: "form-control player-form-field w-100", id: "floatingMedicalCondition", placeholder:"Condition" %>        
          </div>
        </div>

        <div class="border-bottom hr-show-custom mb-4" ></div>

        <div class="row">
          <div class="col-md-7 light-font d-flex align-items-center mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;ID Number:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
              <td colspan="2"><%= f.text_field :id_number, class: "form-control player-form-field w-100", placeholder:"ID number"%></td>
          </div>
        </div>

        <div class="border-bottom hr-show-custom mb-5" ></div>

        <h3 class="mt-4 light-font text-center mb-5">Next of Kin</h3>

        <%= f.simple_fields_for :next_of_kin do |nokf| %>

        <div class="border-bottom hr-show-custom mb-4" ></div>

        <div class="row">
          <div class="col-md-7 light-font d-flex align-items-center mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Name:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
              <td colspan="2"><%= nokf.text_field :name, class: "form-control player-form-field w-100", placeholder:"Name" %></td>
          </div>
        </div>
              <div class="border-bottom hr-show-custom mb-4" ></div>

        <div class="row">
          <div class="col-md-7 light-font d-flex align-items-center mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Relationship:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
              <td colspan="2"><%= nokf.text_field :relationship, class: "form-control player-form-field w-100", placeholder:"Relationship" %></td>
          </div>
        </div>

        <div class="border-bottom hr-show-custom mb-4" ></div>

        <div class="row">
          <div class="col-md-7 light-font d-flex align-items-center mb-4">
            <span aria-hidden="true" class="text-danger">*</span>&nbsp;Cellphone Number:
          </div>
          <div class="col-md-4 light-font d-flex align-items-center mb-4">
              <td colspan="2"><%= nokf.text_field :cellphone_number, class: "form-control player-form-field w-100", placeholder:"Cell number" %></td>
          </div>
        </div>
        <% end %>


        <div class="border-bottom hr-show-custom mb-5" ></div>

        <div class="d-flex justify-content-center" style="gap: 200px;">
          <%# <%= link_to 'Delete Player', player_path(@player), method: :delete, data: { confirm: 'Are you sure?' } class:"btn btn-danger primary-background" %>
          <div>
            <%= f.submit "Submit", class: "btn btn-success mb-5" %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>
<%# TODO: make another dropdown appear when pressing + 
: Change positions attribute type to array
: display in show case when eg. scrummy = 9 %>
